{% extends 'base.html' %}

{% block content %}
    <!doctype html>
    <html lang="en" data-bs-theme="auto">
    <head>
        <script src="../assets/js/color-modes.js"></script>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Album example · Bootstrap v5.3</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/static/css/post-page.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="stylesheet" href="/static/css/header.css">



    </head>
    <body>
    <div class="container">
        <div class="sidebar">
            <div class="category" id="section1">
                <a href="#">
                    <span class="icon"><i class="fas fa-gamepad"></i></span>
                    <span>Gaming</span>
                    <span class="arrow">▶</span>
                </a>
                <div class="subcategories">
                    <a href="#"><span class="icon"></span> Minecraft</a>
                    <a href="#"><span class="icon"></span> League of Legends</a>
                </div>
            </div>

            <div class="category" id="section2">
                <a href="#">
                    <span class="icon"><i class="fas fa-cog"></i></span>
                    <span>Sports</span>
                    <span class="arrow">▶</span>
                </a>
                <div class="subcategories">
                    <a href="#"><span class="icon"></span> NBA</a>
                    <a href="#"><span class="icon"></span> Premier League</a>
                </div>
            </div>

            <div class="category" id="section3">
                <a href="#">
                    <span class="icon"><i class="fab fa-bitcoin"></i></span>
                    <span>Crypto</span>
                    <span class="arrow">▶</span>
                </a>
                <div class="subcategories">
                    <a href="#"><span class="icon"></span> Bitecoin</a>
                    <a href="#"><span class="icon"></span> Litecoin</a>
                </div>
            </div>
        </div>
        <main>
            <!-- Section for creating a text post -->
            <section id="text-post-section">

                <h2>Create a New Post</h2>

                <form method="post" enctype="multipart/form-data">

                    {% csrf_token %}
                    {{ form.as_p }}

                    <button type="submit">Create Post</button>
                </form>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const categories = document.querySelectorAll('.category');

            categories.forEach(category => {
                category.addEventListener('click', () => {
                    category.classList.toggle('active');
                    updateArrowIcon(category);
                });
            });

            function updateArrowIcon(category) {
                const arrow = category.querySelector('.arrow');
                const subcategories = category.querySelector('.subcategories');

                if (category.classList.contains('active')) {
                    arrow.style.transform = 'rotate(90deg)';
                    subcategories.style.maxHeight = subcategories.scrollHeight + 'px';
                } else {
                    arrow.style.transform = 'rotate(0deg)';
                    subcategories.style.maxHeight = '0';
                }
            }
        });


    </script>


{% endblock %}

